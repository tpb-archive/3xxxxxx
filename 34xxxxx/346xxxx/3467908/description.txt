A high-tech American gunship stationed in the Persian Gulf shot down an Airbus carrying 290 people when its systems confused it with an Iranian fighter. What went wrong?